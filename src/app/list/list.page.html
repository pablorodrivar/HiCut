<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/home"></ion-back-button>      
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="presentModal()">
        <ion-icon slot="icon-only" name="funnel"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ 'PAGES.LIST.TITLE' | translate }}</ion-title>
    <ion-title *ngIf="list_id == 1"><div class="subtitle">{{ 'PAGES.LIST.FOR_MEN' | translate }}</div></ion-title>
    <ion-title *ngIf="list_id == 2"><div class="subtitle">{{ 'PAGES.LIST.FOR_WOMEN' | translate }}</div></ion-title>
    <ion-title *ngIf="list_id == 3"><div class="subtitle">{{ 'PAGES.LIST.ALL' | translate }}</div></ion-title>
  </ion-toolbar>


</ion-header>
<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>

  <!-- <ion-buttons> <button ion-button item-right (click)=“refreshData()”> <ion-icon name=“refresh”></ion-icon> </button> </ion-buttons> -->

  <ion-item lines="none" color="tertiary" style="color: white">
      <ion-label>Search Filter</ion-label>
      <ion-chip color="medium"><ion-icon name="walk" color="light"></ion-icon><ion-label color="light">< {{ mdChipText }} km.</ion-label></ion-chip>
      <ion-chip color="medium"><ion-icon name="compass" color="light"></ion-icon><ion-label color="light">{{ locChipText }}</ion-label></ion-chip>
    </ion-item>
  <ion-searchbar animated (ionChange)="searchBrb($event)"></ion-searchbar>
  <div
    class="search-results"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()"
  >            

    <!-- | searchFilter: searchText -->
    <ion-card *ngFor="let brb of list" (click)="toDetail(brb.id)">
        <ion-card-header>
          <ion-card-title>{{ brb.name }}
              <ion-chip *ngIf="brb.genre == 0" color="secondary"><ion-icon name="male"></ion-icon><ion-label>{{ 'PAGES.LIST.MEN' | translate }}</ion-label></ion-chip>
              <ion-chip *ngIf="brb.genre == 1" color="secondary"><ion-icon name="female"></ion-icon><ion-label>{{ 'PAGES.LIST.WOMEN' | translate }}</ion-label></ion-chip>
          </ion-card-title>          
        </ion-card-header>

        <ion-item>
          <img src="http://80.211.65.79:8000/{{ brb.imglist[0] }}" class="brb-img">
        </ion-item>       
        
        <ion-item color="primary" lines="none">
          <ion-label>{{ brb.address }}</ion-label>
          <ion-icon name="compass"></ion-icon>
        </ion-item>
        
        <ion-item color="success" lines="none">
            <ion-label>{{ 'PAGES.LIST.OPEN_TODAY' | translate }} </ion-label>
            <ion-icon name="done-all"></ion-icon>              
        </ion-item>
    </ion-card>
  </div>
</ion-content>
